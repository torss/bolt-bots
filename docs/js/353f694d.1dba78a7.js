(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["353f694d"],{"07d4":function(e,t,a){e.exports=a.p+"img/boltbots-logo.3500425c.svg"},"546f":function(e,t,a){"use strict";var s=a("58c1"),o=a.n(s);o.a},"58c1":function(e,t,a){},"713b":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-layout",{attrs:{view:"lHh Lpr lFf"}},[s("q-header",{class:e.bgClassHeader,attrs:{elevated:""},on:{mousedown:e.onMousedown}},[s("q-toolbar",[s("q-btn",{attrs:{flat:"",dense:"",round:"","aria-label":"Menu",icon:"menu"},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}}),s("q-toolbar-title",[e._v("\n        Bolt Bots\n        "),s("q-tooltip",[e._v("Running on Quasar v"+e._s(e.$q.version))])],1),s("q-btn",{attrs:{icon:e.glos.muteAudio?"mdi-volume-off":"mdi-volume-high",flat:"",round:""},on:{click:function(t){e.glos.muteAudio=!e.glos.muteAudio}}},[s("q-tooltip",[e._v("Toggle audio mute")])],1),s("span",{staticClass:"volume-slider"},[s("q-slider",{attrs:{min:0,max:200,color:"white"},model:{value:e.glos.masterVolume,callback:function(t){e.$set(e.glos,"masterVolume",t)},expression:"glos.masterVolume"}}),s("q-tooltip",[e._v("Master volume: "+e._s(e.glos.masterVolume)+"%")])],1),s("div",{ref:"toolbarStats",staticClass:"toolbarStats"}),s("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"mdi-wan",color:e.game.newChatMessages?"pink":e.darkMode?"blue-grey-5":"blue-grey-2"},on:{click:e.toggleRightDrawer}})],1)],1),s("q-drawer",{attrs:{"no-swipe-close":"",behavior:"desktop","content-class":e.bgClassDrawer,elevated:""},nativeOn:{mousedown:function(t){return e.onMousedown(t)}},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[s("q-list",{staticClass:"drawer-list",attrs:{dark:e.darkMode}},[s("div",{staticClass:"drawer-head"},[s("div",{staticClass:"flex flex-center"},[s("img",{staticClass:"logo",attrs:{alt:"Bolt Bots logo",src:a("07d4")},on:{click:function(t){e.darkMode=!e.darkMode}}}),s("q-tooltip",[e._v("Click to toggle dark mode.")])],1),"playing"===e.game.state?[s("q-item-label",{staticClass:"text-center text-bold",attrs:{header:""}},[e._v("Turn "+e._s(e.turn))]),s("q-item-label",{attrs:{header:""}},[e._v("Players")]),s("q-list",{staticClass:"q-gutter-sm",on:{mousedown:e.onMousedown}},e._l(e.players,function(t,a){return s("PlayerListItem",{key:a,attrs:{player:t},nativeOn:{click:function(a){return e.clickPlayer(t)}}})}),1),e.alive?[s("q-item-label",{attrs:{header:""}},[e._v("\n              Hand "+e._s(e.hand.length)+"/"+e._s(e.handSize)+"\n              "),s("q-tooltip",[e._v("You can hold at most "+e._s(e.handSize)+" cards.")])],1),s("q-list",{staticClass:"q-gutter-sm",on:{mousedown:e.onMousedown}},[s("q-tooltip",[e._v("Drag these cards onto the slots at the bottom to program your bot.")]),s("draggable",{staticClass:"card-slots q-gutter-sm justify-center row",attrs:{list:e.hand,group:"hand"},on:{end:e.onMouseup}},e._l(e.hand,function(t,a){return s("q-btn",{key:a,staticClass:"card",attrs:{push:"",color:"primary","no-caps":"",draggable:"true",disable:e.disableAct},on:{click:function(a){return e.useCard(t)},dragstart:function(a){return e.dragCard(t)},dragend:e.dragCardStop}},[s("span",[e._v(e._s(t.cardType.title))])])}),1)],1)]:e._e(),e.deadPlayers.length>0?[s("q-item-label",{attrs:{header:""}},[e._v("Graveyard")]),s("q-list",{staticClass:"q-gutter-sm",on:{mousedown:e.onMousedown}},e._l(e.deadPlayers,function(e,t){return s("PlayerListItem",{key:t,attrs:{player:e}})}),1)]:e._e()]:"matchmaking"===e.game.state?[s("q-item-label",{staticClass:"text-center text-bold",attrs:{header:""}},[e._v("Matchmaking")]),s("q-item",[s("q-item-section",[s("q-input",{attrs:{dense:"",dark:e.darkMode,label:"Player name",error:!e.playerNameValid},model:{value:e.playerName,callback:function(t){e.playerName=t},expression:"playerName"}})],1)],1),s("q-expansion-item",{attrs:{group:"matchmaking",label:"Host",dark:e.darkMode},model:{value:e.hostExpanded,callback:function(t){e.hostExpanded=t},expression:"hostExpanded"}},[s("q-item",{attrs:{dense:""}},[s("q-item-section",[s("q-input",{attrs:{dense:"",dark:e.darkMode,label:"Match name",error:!e.hostMatchNameValid},model:{value:e.hostMatchName,callback:function(t){e.hostMatchName=t},expression:"hostMatchName"}})],1)],1),s("q-item",{attrs:{dense:""}},[s("q-item-section",[s("q-input",{attrs:{dense:"",dark:e.darkMode,label:"Password",error:!e.hostPasswordValid},model:{value:e.hostPassword,callback:function(t){e.hostPassword=t},expression:"hostPassword"}})],1)],1),s("q-item",{attrs:{dense:""}},[s("q-item-section",[s("q-input",{attrs:{dense:"",dark:e.darkMode,label:"End turn time limit",type:"number",error:!e.hostEndTurnTimeLimitValid,suffix:"s","input-class":"duration-input"},model:{value:e.hostEndTurnTimeLimit,callback:function(t){e.hostEndTurnTimeLimit=e._n(t)},expression:"hostEndTurnTimeLimit"}})],1),s("MatchmakingTooltip",{attrs:{type:"endTurnTimeLimit"}})],1),s("q-item",{attrs:{dense:""}},[s("q-item-section",[s("q-input",{attrs:{dense:"",dark:e.darkMode,label:"Max. players",type:"number",error:!e.hostMaxPlayersValid},model:{value:e.hostMaxPlayers,callback:function(t){e.hostMaxPlayers=e._n(t)},expression:"hostMaxPlayers"}})],1)],1),s("q-item",{attrs:{dense:""}},[s("q-item-section",[s("q-input",{attrs:{dense:"",dark:e.darkMode,label:"Checkpoints",type:"number",error:!e.hostCheckpointCountValid},model:{value:e.hostCheckpointCount,callback:function(t){e.hostCheckpointCount=e._n(t)},expression:"hostCheckpointCount"}})],1),s("MatchmakingTooltip",{attrs:{type:"checkpointCount"}})],1),s("q-item",{attrs:{dense:""}},[s("q-item-section",[s("q-input",{attrs:{dense:"",dark:e.darkMode,label:"Hand size",type:"number",error:!e.hostHandSizeValid},model:{value:e.hostHandSize,callback:function(t){e.hostHandSize=e._n(t)},expression:"hostHandSize"}})],1),s("MatchmakingTooltip",{attrs:{type:"handSize"}})],1),s("q-item",{attrs:{dense:""}},[s("q-item-section",[s("q-input",{attrs:{dense:"",dark:e.darkMode,label:"Card slots",type:"number",error:!e.hostSlotCountValid},model:{value:e.hostSlotCount,callback:function(t){e.hostSlotCount=e._n(t)},expression:"hostSlotCount"}})],1),s("MatchmakingTooltip",{attrs:{type:"slotCount"}})],1),s("q-item",{attrs:{dense:""}},[s("q-item-section",[s("q-input",{attrs:{dense:"",dark:e.darkMode,label:"Seed"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.regenerateMap(t)}},model:{value:e.hostSeed,callback:function(t){e.hostSeed=t},expression:"hostSeed"}}),s("q-tooltip",[e._v("Seed for the random number generator.")])],1),s("q-item-section",{attrs:{side:""}},[s("q-btn",{attrs:{dense:"",icon:"mdi-dice-multiple",flat:"","no-caps":""},on:{click:e.randomizeSeed}},[s("q-tooltip",[e._v("Randomize the seed & regenerate the map.")])],1)],1)],1),s("q-item",[s("q-item-section",[s("q-btn",{attrs:{label:"Host",flat:"","no-caps":"",disable:!e.canHost},on:{click:e.hostMatch}},[s("q-tooltip",[e._v("Host with the given settings.")])],1)],1)],1)],1),s("q-expansion-item",{attrs:{group:"matchmaking",label:"Join",dark:e.darkMode},model:{value:e.joinExpanded,callback:function(t){e.joinExpanded=t},expression:"joinExpanded"}},[s("q-item",{attrs:{dense:""}},[s("q-item-section",[s("q-input",{attrs:{dense:"",dark:e.darkMode,label:"Password",error:!e.joinPasswordValid,disable:!!e.game.isJoining},model:{value:e.joinPassword,callback:function(t){e.joinPassword=t},expression:"joinPassword"}})],1)],1),e.game.isJoining?s("q-item",[s("q-item-section",[e._v("Joining match, please wait...")])],1):0===Object.keys(e.game.openMatches).length?s("q-item",[s("q-item-section",[e._v("Searching for matches, please wait...")])],1):e._e()],1)]:"lobby"===e.game.state?[s("q-item-label",{staticClass:"text-center text-bold",attrs:{header:""}},[e._v("Lobby")]),s("q-item-label",{attrs:{header:""}},[e._v("Match info")]),s("q-item",{attrs:{dense:""}},[s("q-item-section",{attrs:{side:""}},[e._v("Name:")]),s("q-item-section",[e._v(e._s(e.game.netMatch.matchName))])],1),s("q-item",{attrs:{dense:""}},[s("q-item-section",{attrs:{side:""}},[e._v("Max. players:")]),s("q-item-section",[e._v(e._s(e.game.netMatch.maxPlayers))])],1),s("q-item",{attrs:{dense:""}},[s("q-item-section",{attrs:{side:""}},[e._v("End turn time limit:")]),s("q-item-section",[e._v(e._s(e.game.netMatch.endTurnTimeLimit)+"s")]),s("MatchmakingTooltip",{attrs:{type:"endTurnTimeLimit"}})],1),s("q-item",{attrs:{dense:""}},[s("q-item-section",{attrs:{side:""}},[e._v("Checkpoints:")]),s("q-item-section",[e._v(e._s(e.game.netMatch.checkpointCount))]),s("MatchmakingTooltip",{attrs:{type:"checkpointCount"}})],1),s("q-item",{attrs:{dense:""}},[s("q-item-section",{attrs:{side:""}},[e._v("Hand size:")]),s("q-item-section",[e._v(e._s(e.game.netMatch.handSize))]),s("MatchmakingTooltip",{attrs:{type:"handSize"}})],1),s("q-item",{attrs:{dense:""}},[s("q-item-section",{attrs:{side:""}},[e._v("Slot count:")]),s("q-item-section",[e._v(e._s(e.game.netMatch.slotCount))]),s("MatchmakingTooltip",{attrs:{type:"slotCount"}})],1),s("q-item",{attrs:{dense:""}},[s("q-item-section",{attrs:{side:""}},[e._v("Seed:")]),s("q-item-section",[e._v(e._s(e.game.netMatch.seed))])],1),s("q-item-label",{attrs:{header:""}},[e._v("Players")]),e._l(e.match.players,function(t,a){return s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:a,staticClass:"pointer",attrs:{dense:""}},[s("q-item-section",{attrs:{side:""}},[s("q-icon",{attrs:{name:t.netKey===e.game.netKeyHost?"mdi-account-star":"mdi-account",color:t===e.match.playerSelf?"primary":"grey"}})],1),s("q-item-section",[e._v(e._s(t.name))]),e.game.isHost&&t!==e.match.playerSelf?s("q-item-section",{attrs:{side:""}},[s("q-btn",{attrs:{flat:"",icon:"mdi-exit-run"},on:{click:function(a){return e.kick(t)}}},[s("q-tooltip",[e._v("Kick player from lobby.")])],1)],1):e._e()],1)}),s("q-item",[s("q-item-section",[s("q-btn",{attrs:{label:"Leave",flat:"","no-caps":""},on:{click:e.leaveMatch}},[s("q-tooltip",[e._v("Leave the match.")])],1)],1)],1),e.game.isHost?s("q-item",[s("q-item-section",[s("q-btn",{attrs:{label:"Start match",flat:"","no-caps":"",disable:!e.canStartMatch},on:{click:e.startMatch}},[s("q-tooltip",[e._v("Start the match!")])],1)],1)],1):e._e()]:"reconnecting"===e.game.state?[s("q-item-label",{staticClass:"text-center text-bold",attrs:{header:""}},[e._v("Reconnecting")]),s("q-item",[s("q-item-section",[e._v("Trying to reconnect to match "+e._s(e.game.reconnectData?'"'+e.game.reconnectData.matchName+'"':"[Unknown name]")+", please wait...")])],1),s("q-item",[s("q-item-section",[s("q-btn",{attrs:{label:"Abort",flat:"","no-caps":""},on:{click:e.abortReconnect}},[s("q-tooltip",[e._v("Abort the reconnection attempt."),s("br"),e._v("You won't be able to try reconnecting again once you press this.")])],1)],1)],1)]:e._e()],2),e.joinExpanded&&"matchmaking"===e.game.state&&!e.game.isJoining?s("q-list",{staticClass:"drawer-scroll-content"},e._l(Object.values(e.game.openMatches),function(t){return s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.matchUid,staticClass:"pointer",attrs:{dense:""},nativeOn:{click:function(a){return e.joinMatch(t.matchUid)}}},[s("q-item-section",{attrs:{side:""}},[s("q-icon",{attrs:{name:t.password?"mdi-lock":"mdi-lock-open"}}),s("q-tooltip",[e._v("You need "+e._s(t.password?"a":"no")+" password to join.")])],1),s("q-item-section",[e._v("\n            "+e._s(t.matchName)+"\n            "),s("q-tooltip",[e._v("\n              Host name: "+e._s(t.playerName)),s("br"),e._v("\n              End turn time limit: "+e._s(t.endTurnTimeLimit)+"s"),s("br"),e._v("\n              Checkpoints: "+e._s(t.checkpointCount)),s("br"),e._v("\n              Hand size: "+e._s(t.handSize)),s("br"),e._v("\n              Slot count: "+e._s(t.slotCount)),s("br"),e._v("\n              Seed: "+e._s(t.seed)+"\n            ")])],1),s("q-item-section",{attrs:{side:""}},[e._v("\n            "+e._s(t.playerCount)+"/"+e._s(t.maxPlayers)+"\n            "),s("q-tooltip",[e._v("Player count / Max. players")])],1)],1)}),1):e._e()],1)],1),s("q-drawer",{attrs:{"no-swipe-close":"",behavior:"desktop","content-class":e.bgClassDrawer,elevated:"",side:"right"},nativeOn:{mousedown:function(t){return e.onMousedown(t)}},model:{value:e.rightDrawerOpen,callback:function(t){e.rightDrawerOpen=t},expression:"rightDrawerOpen"}},[s("q-list",{staticClass:"drawer-list",attrs:{dark:e.darkMode}},[s("div",{staticClass:"drawer-head"},[s("q-item-label",{staticClass:"text-center text-bold",attrs:{header:""}},[e._v("About")]),s("q-item",{attrs:{dense:""}},[s("q-item-section",[s("div",{staticClass:"about"},[e._v("\n            Bolt Bots is a "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Free_and_open-source_software"}},[e._v("FOSS")]),e._v("\n            game with gameplay which is meant to loosely resemble that of the board game "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/RoboRally"}},[e._v("Robo Rally")]),e._v(".\n            It is currently a rather basic prototype which may be heavily extended in the (possibly distant) future.\n            You can find the MPL-2.0 licensed source code repository on "),s("a",{attrs:{href:"https://github.com/torss/boltbots"}},[e._v("GitHub")]),e._v(".\n          ")])])],1),s("q-item-label",{staticClass:"text-center text-bold",attrs:{header:""}},[e._v("\n          Network info\n          "),s("q-tooltip",[e._v("ID: "+e._s(e.game.netNodeIdStr))])],1),"matchmaking"===e.game.state?[s("q-item",{attrs:{dense:""}},[s("q-item-section",[e._v("Players online: "+e._s(e.game.playersOnlineCount))])],1),s("q-item",{attrs:{dense:""}},[s("q-item-section",[e._v("Connected peer count: "+e._s(e.game.connectedPeers.length))])],1),s("q-item",{attrs:{dense:""}},[s("q-item-section",[e._v("Discovered peer count: "+e._s(e.game.discoveredPeerCount)+"\n            "),s("q-tooltip",[e._v("This is a total over time.")])],1)],1)]:[s("q-item",{attrs:{dense:""}},[s("q-item-section",[e._v("Global network info is only updated during matchmaking.")])],1)],s("q-item-label",{staticClass:"text-center text-bold",attrs:{header:""}},[e._v("Match chat")]),s("q-item",{attrs:{dense:""}},[s("q-item-section",[s("q-input",{attrs:{dense:"",dark:e.darkMode,label:"Chat message",disable:"matchmaking"===e.game.state,error:!e.chatMessageValid},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendChatMessage(t)}},model:{value:e.chatMessage,callback:function(t){e.chatMessage=t},expression:"chatMessage"}})],1),s("q-tooltip",[e._v(e._s("matchmaking"===e.game.state?"Join a match to chat.":"Press enter to send your message."))])],1)],2),s("q-list",{staticClass:"drawer-scroll-content"},e._l(e.chatMessages,function(t,a){return s("q-item",{key:a,attrs:{dense:""}},[s("q-item-section",{attrs:{side:""}},[e._v(e._s(t.playerName)+":")]),s("q-item-section",[e._v(e._s(t.text))])],1)}),1)],1)],1),s("q-page-container",[s("router-view")],1),s("q-dialog",{model:{value:e.dialogOpen,callback:function(t){e.dialogOpen=t},expression:"dialogOpen"}},[s("q-card",{class:e.classDialog,attrs:{dark:e.darkMode}},[s("q-card-section",[s("div",{staticClass:"text-h6"},[e._v(e._s(e.dialogTitle))])]),s("q-card-section",[e._v(e._s(e.dialogMessage))]),s("q-card-actions",{attrs:{align:"center"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.dialogCloseButtonLabel,"no-caps":"",color:"primary"}},[s("q-tooltip",[e._v("Click to close the dialog")])],1)],1)],1)],1)],1)},o=[],n=a("0967"),i=a("2b0e"),r=(e,t)=>{let a=window.open;if(!0===n["a"].is.cordova){if(void 0!==cordova&&void 0!==cordova.InAppBrowser&&void 0!==cordova.InAppBrowser.open)a=cordova.InAppBrowser.open;else if(void 0!==navigator&&void 0!==navigator.app)return navigator.app.loadUrl(e,{openExternal:!0})}else if(void 0!==i["a"].prototype.$q.electron)return i["a"].prototype.$q.electron.shell.openExternal(e);let s=a(e,"_blank");if(s)return s.focus(),s;t&&t()},l=a("1c16"),c=a("310e"),d=a.n(c),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],class:e.classMain,attrs:{dense:""},nativeOn:{click:function(t){return e.highlight(t)}}},[a("q-item-section",{staticClass:"items-center",attrs:{side:""}},[a("q-icon",{style:"color: #"+e.player.bot.guiColor.getHexString(),attrs:{name:"mdi-"+e.player.icon}}),a("q-rating",{attrs:{icon:"mdi-flag-variant",readonly:"",max:e.checkpointCount,size:"0.25em",color:"primary"},model:{value:e.player.completedCheckpoints,callback:function(t){e.$set(e.player,"completedCheckpoints",t)},expression:"player.completedCheckpoints"}}),a("q-tooltip",[e._v("Completed checkpoints out of the "+e._s(e.checkpointCount)+" total checkpoints."),a("br"),e._v("The checkpoints have to be completed in order,"),a("br"),e._v("and your bot must land directly on a checkpoint for it to be completed."),a("br"),e._v("Completing all checkpoints wins you the game!")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-item-label",{staticClass:"player-name",class:e.className},[e._v("\n      "+e._s(e.player.name)+"\n      ")])],1),e.player.alive?[a("q-item-section",[a("q-linear-progress",{staticStyle:{height:"20px"},attrs:{stripe:"",rounded:"",value:e.player.bot.health,color:"red"}}),a("q-tooltip",[e._v("Bot health: "+e._s((100*e.player.bot.health).toFixed(0))+"%")])],1),a("q-item-section",{attrs:{side:""}},[a("span",[e.player.alive?a("q-item-label",{staticClass:"tower-distance"},[e._v(e._s(e.player.bot.towerDistance.toFixed(2))+"m")]):a("q-item-label",{staticClass:"tower-distance-dead"},[e._v("☠️")]),a("q-tooltip",[e._v("Distance to control tower.")])],1)])]:a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[e._v("\n      Killed in turn "+e._s(e.player.killedInTurn)+" by "+e._s(e.player.killedBy.map(function(e){return e.name}).join(" & "))+".\n    ")])],1),a("q-tooltip",[e._v("\n    Click to briefly highlight the player's bot."),a("br"),e.isSelf?[e._v("\n      You are this player. "),e.isHost?[e._v("And you are the host.")]:e._e()]:e.isHost&&!e.timeout?[e._v("\n      This player is your current host.\n    ")]:e._e(),(e.isSelf||e.isHost)&&(e.timeout||e.endTurn||e.completeTurn)?[a("br"),a("br")]:e._e(),e.timeout?[e._v("\n      Seems like this player is timing out!"),a("br"),e._v("\n      The game might wait a bit to give the player a chance to reconnect."),a("br"),e.isHost?[e._v("\n        And since that player was host, a new host is being elected, please wait."),a("br")]:e._e(),e._v("\n      If the player doesn't come back you can keep playing, his bot will simply remain uncontrolled.\n    ")]:e.completeTurn?[e._v("\n      This player has watched the turn play out.\n    ")]:e.endTurn?[e._v("\n      This player has ended his turn.\n    ")]:e._e()],2)],2)},m=[],u=a("abf7"),p={name:"PlayerListItem",props:{player:Object},data(){return{glos:u["a"]}},methods:{highlight(){this.player.bot&&this.player.bot.highlight()}},computed:{checkpointCount(){return this.glos.game?this.glos.game.match.checkpointCount:0},isHost(){return this.player.netKey===this.glos.game.netKeyHost},isSelf(){return this.player.netKey===this.glos.game.netKey},endTurn(){return this.player.endTurn},completeTurn(){return this.player.completeTurn},timeout(){return!!this.player.lastPingTimeout},className(){return{"player-name-dead":!this.player.alive,"player-name-done":this.endTurn}},classMain(){return{"complete-turn":this.completeTurn,timeout:this.timeout}}}},g=p,y=(a("8beb"),a("2877")),b=Object(y["a"])(g,h,m,!1,null,"08ba25e5",null),v=b.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-tooltip",["endTurnTimeLimit"===e.type?[e._v("\n    This time (in seconds) will start to run out once a player has finished his turn."),a("br"),e._v("\n    If the other players can't end their turns within this time limit, it will end automatically."),a("br"),e._v("\n    Set this to 0 to disable the time limit.\n  ")]:"checkpointCount"===e.type?[e._v("\n    How many checkpoints need to be reached by a player to attain a checkpoint victory."),a("br"),e._v("\n    These checkpoints have to be travesed in the correct order."),a("br"),e._v("\n    Note that victory can alternatively be achieved by destroying all other bots.\n  ")]:"handSize"===e.type?[e._v("\n    How many cards each player can hold on his hand per turn."),a("br"),e._v("\n    This thus changes the amount of options each player will have available.\n  ")]:"slotCount"===e.type?[e._v("\n    The number of card slots each player's bot has."),a("br"),e._v("\n    A turn consists out of executing the slots."),a("br"),e._v("\n    More slots will make it more difficult to predict the turn. Conversely, less slots make it easier to react to the other players' actions.\n  ")]:e._e()],2)},_=[],q={name:"MatchmakingTooltip",props:{type:String}},f=q,M=Object(y["a"])(f,k,_,!1,null,"c40c7136",null),w=M.exports,C={name:"MainLayout",components:{draggable:d.a,PlayerListItem:v,MatchmakingTooltip:w},data(){return this.regenerateMapDebounced=Object(l["a"])(()=>this.regenerateMap(),1e3),this.recreatePlayersDebounced=Object(l["a"])(()=>this.recreatePlayers(),100),{bgClassDark:"bg-blue-grey-10",glos:u["a"],hostPassword:"",hostSeedLastGen:u["a"].hostSeed,joinPassword:"",chatMessage:"",dialogCloseButtonLabel:"Ok",dialogOpen:!1}},methods:{openURL:r,useCard(e){for(const t of u["a"].cardSlots)if(!t.card)return t.card=e,void e.removeFromHand()},dragCard(e){u["a"].dragged=e},dragCardStop(){u["a"].dragged=void 0},randomizeSeed(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-",t=8+Math.floor(16*Math.random());let a="";for(let s=0;s<t;++s)a+=e[Math.floor(Math.random()*e.length)];this.hostSeed=a,this.regenerateMap()},regenerateMap(){this.canMapGen&&(this.hostSeed===this.hostSeedLastGen&&this.hostCheckpointCount===this.match.checkpointCount||(this.hostSeedLastGen=this.hostSeed,u["a"].game.ready&&u["a"].game.regenerateMap()))},recreatePlayers(){this.canMapGen&&u["a"].game.recreatePlayers()},hostMatch(){this.canHost&&u["a"].game.host({playerName:this.playerName,matchName:this.hostMatchName,password:this.hostPassword,maxPlayers:Math.floor(this.hostMaxPlayers),seed:this.hostSeed,endTurnTimeLimit:this.hostEndTurnTimeLimit,checkpointCount:this.hostCheckpointCount,handSize:this.hostHandSize,slotCount:this.hostSlotCount})},joinMatch(e){this.playerNameValid&&this.joinPasswordValid&&u["a"].game.tryJoin(e,this.playerName,this.joinPassword)},leaveMatch(){u["a"].game.leave()},kick(e){u["a"].game.kick(e)},startMatch(){this.canStartMatch&&u["a"].game.startMatch()},abortReconnect(){u["a"].game.clearReconnectData()},sendChatMessage(){if(!this.chatMessageValid||""===this.chatMessage)return;const e=this.chatMessage;this.chatMessage="",u["a"].game.sendChatMessage(e)},clickPlayer(e){},toggleRightDrawer(){this.rightDrawerOpen=!this.rightDrawerOpen,this.rightDrawerOpen&&(u["a"].game.newChatMessages=!1)},checkName(e,t=8){return e.length>0&&e.length<=t},checkShortText(e,t=64){return e.length<=t},checkIntRange(e,t,a){return e=Math.floor(e),e>=t&&e<=a},onMousedown(){u["a"].threejsControls&&(u["a"].threejsControls.enabled=!1),document.addEventListener("mouseup",()=>this.onMouseup(),{once:!0,capture:!0})},onMouseup(){u["a"].threejsControls&&(u["a"].threejsControls.enabled=!0)}},computed:{game(){return this.glos.game},match(){return this.game&&this.glos.game.match},hand(){return this.glos.hand},alive(){return this.match&&this.match.playerSelf.alive},openTileCount(){return this.match?this.match.openTileCount:0},chatMessages(){return this.game?this.game.chatMessages:[]},players(){return this.match?this.match.turnPlayers:[]},deadPlayers(){return this.match?this.match.deadPlayers:[]},turn(){return this.match?u["a"].game.match.turn:1},disableAct(){return this.match&&(this.match.turnInProgress||!!this.match.gameOver||this.match.playerSelf.endTurn||!this.alive)},handSize(){return u["a"].game.match&&u["a"].game.match.handSize},bgClassDrawer(){return this.darkMode?this.bgClassDark:"bg-grey-2"},bgClassHeader(){return this.darkMode?this.bgClassDark:"bg-primary"},classDialog(){return this.bgClassDrawer},playerNameValid(){return this.checkName(this.playerName)},hostMatchNameValid(){return this.checkName(this.hostMatchName,28)},hostPasswordValid(){return this.checkShortText(this.hostPassword)},joinPasswordValid(){return this.checkShortText(this.joinPassword)},hostSeedValid(){return this.checkShortText(this.hostSeed)},chatMessageValid(){return this.chatMessage.length<=120},hostEndTurnTimeLimitValid(){return this.hostEndTurnTimeLimit>=0},hostMaxPlayersValid(){return this.checkIntRange(this.hostMaxPlayers,2,Math.min(this.openTileCount,32))},hostCheckpointCountValid(){return this.checkIntRange(this.hostCheckpointCount,1,5)},hostHandSizeValid(){return this.checkIntRange(this.hostHandSize,1,16)},hostSlotCountValid(){return this.checkIntRange(this.hostSlotCount,1,8)},canMapGen(){return this.hostMaxPlayersValid&&this.hostCheckpointCountValid&&this.hostSeedValid},canHost(){return this.playerNameValid&&this.hostMatchNameValid&&this.hostPasswordValid&&this.hostMaxPlayersValid&&this.hostSeedValid&&this.hostEndTurnTimeLimitValid&&this.hostCheckpointCountValid&&this.hostHandSizeValid&&this.hostSlotCountValid},canStartMatch(){return this.match.players.length>=2},dialogTitle(){const{dialogData:e}=this.glos;if(!e)return"";const t={"reconnect-refused":"Couldn't reconnect","join-failure":"Couldn't join match"};return t[e.type]||"Dialog"},dialogMessage(){const{dialogData:e}=this.glos;if(!e)return"";const t={"reconnect-refused":{"incorrect-player":"Your internal player identifier is incorrect, you cannot reconnect.","not-playing":()=>{const t={matchmaking:"The match does no longer exist.",lobby:"The match is back at the lobby state. That's weird.",playing:"...for no apparent reason, this must be a bug.",reconnecting:"Apparently the host has weird network problems. This shouldn't happen."};return t[e.data]}},"join-failure":{"empty-password":"You need to enter a password to join this match.",rejected:()=>{const t={"wrong-password":"The password you entered was wrong.","match-closed":"The match is no longer available."};return t[e.data]}}};let a=t[e.type];return a=a&&a[e.why],"function"===typeof a&&(a=a()),a||""},...["leftDrawerOpen","rightDrawerOpen","playerName","hostMatchName","hostMaxPlayers","hostSeed","darkMode","hostExpanded","joinExpanded","hostEndTurnTimeLimit","hostCheckpointCount","hostHandSize","hostSlotCount"].reduce((e,t)=>{return e[t]={get(){return u["a"][t]},set(e){u["a"][t]=e,localStorage.setItem(t,e)}},e},{})},watch:{"glos.muteAudio"(e){localStorage.setItem("muteAudio",e),u["a"].adjustAudioVolume()},"glos.masterVolume"(e){localStorage.setItem("masterVolume",e),u["a"].adjustAudioVolume()},hostSeed(e){this.regenerateMapDebounced()},hostMaxPlayers(e){this.recreatePlayersDebounced()},hostCheckpointCount(e){this.regenerateMapDebounced()},"glos.dialogData"(e){const t=e=>e[Math.floor(Math.random()*e.length)],a=e=>{let a=t(e);while(a)if("function"===typeof a)a=a();else{if(!Array.isArray(a))return a;a=t(a)}console.warn("glos.dialogData - resolve error")},s=()=>{const e=t(["Thank you","Thanks","My heartfelt thanks","Many thanks","A thousand thanks","Cordial thanks","Thanks a lot","Thanks a million","Thank you very much","Thanks a ton","Thanks again","Thx","TANK you"]),a=t(["Sir","Lord","Mr.","Ms."]),s=t(["can","may","are allowed to","are permitted to"]),o=t(["go","leave"]),n=t(["",".","!","¡"]);return`${e} ${a} Dialog, you ${s} ${o} now${n}`},o=[["Damn","Damn it","Whatever","Whatevs","Fine","That's not good","That's bad"],["Oops","¯\\_(ツ)_/¯","What a pity","Too bad"],["😖","😲","😯","😮","🤨","🤔","😱","👎"]],n=[["Ok","OK","K","👌"],["Affirmative","Alright","Understood","Got it"],...o,s];this.dialogCloseButtonLabel=a(n)||"Ok",this.dialogOpen=!0}}},T=C,x=(a("546f"),a("bfcb"),Object(y["a"])(T,s,o,!1,null,"cf1dd0d8",null));t["default"]=x.exports},"8beb":function(e,t,a){"use strict";var s=a("dda0"),o=a.n(s);o.a},a00c:function(e,t,a){},bfcb:function(e,t,a){"use strict";var s=a("a00c"),o=a.n(s);o.a},dda0:function(e,t,a){}}]);